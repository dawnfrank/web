
#SSH（Secure Shell）
SSH（Secure Shell）是一种通用的、功能强大的、基于软件的网络安全解决方案。

####SSH意义
传统的网络服务程序，如FTP、Pop和Telnet在传输机制和实现原理上是没有考虑安全机制的，其本质上都是不安全的；因为它们在网络上用明文传送数据、用户帐号和用户口令，别有用心的人通过窃听等网络攻击手段非常容易地就可以截获这些数据、用户帐号和用户口令。

计算机每次向网络发送数据时，SSH都会自动对其进行加密。数据到达目的地时，SSH自动对加密数据进行解密。整个过程都是透明的，使用OpenSSH工具将会增进你的系统安全性。

####协议内容
SSH协议是建立在应用层和传输层基础上的安全协议，它主要由以下三部分组成：
  * `传输层协议`：它提供诸如认证、信任和完整性检验等安全措施，此外它还可以任意地提供数据压缩功能。通常情况下，这些传输层协议都建立在面向连接的TCP数据流之上。
  * `用户认证协议层`：用来实现服务器的跟客户端用户之间的身份认证，它运行在传输层协议之上。
  * `连接协议层`：分配多个加密通道至一些逻辑通道上，它运行在用户认证层协议之上。

####基于口令的安全验证

登陆流程为
  * 远程主机收到用户的登录请求，把自己的公钥发给用户。
  * 用户使用这个公钥，将登录密码加密后，发送回来。
  * 远程主机用自己的私钥，解密登录密码，如果密码正确，就同意用户登录。

只要你知道自己的帐号和口令，就可以登录到远程主机，并且所有传输的数据都会被加密。但是，这种验证方式不能保证你正在连接的服务器就是你想连接的服务器。可能会有别的服务器在冒充真正的服务器，也就是受到**中间人攻击**。

####基于密匙的安全验证

登陆流程
  * 用户将自己的公钥储存在远程主机上
  * 远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。
  * 远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。

需要依靠密匙，也就是你必须为自己创建一对密匙，并把公有密匙放在需要访问的服务器上。如果你要连接到SSH服务器上，客户端软件就会向服务器发出请求，请求用你的密匙进行安全验证。服务器收到请求之后，先在你在该服务器的用户根目录下寻找你的公有密匙，然后把它和你发送过来的公有密匙进行比较。如果两个密匙一致，服务器就用公有密匙加密"质询"（challenge）并把它发送给客户端软件。客户端软件收到"质询"之后就可以用你的私人密匙解密再把它发送给服务器。